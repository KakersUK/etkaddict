function xpFormat(a){return Math.abs(Number(a))>=1e9?Math.abs(Number(a))/1e9+"b":Math.abs(Number(a))>=1e6?Math.abs(Number(a))/1e6+"m":Math.abs(Number(a))>=1e3?Math.abs(Number(a))/1e3+"k":Math.abs(Number(a))}function removeNonNumenric(a){return a=a.replace(/\D/g,"")}function calculateSum(){var a=0;$(".xpvalue").each(function(){var b=$(this).val();a+=Number(b)}),$("#xptotal").val(xpFormat(a))}$(document).ready(function(){$("#vitacurrent, #vitadesired").change(function(){var a=removeNonNumenric($("#vitacurrent").val()),b=removeNonNumenric($("#vitadesired").val());$.ajax({url:"/expcalculator.json",type:"get",data:{type:"Vita",current:a,desired:b},error:function(a,b){console.debug(a),console.debug(b)},success:function(a){var b=jQuery.parseJSON(a);$("#vitaxp").val(b.data),$("#vitaxpoutput").val(xpFormat(b.data)),calculateSum()}})}),$("#manacurrent, #manadesired").change(function(){var a=removeNonNumenric($("#manacurrent").val()),b=removeNonNumenric($("#manadesired").val());$.ajax({url:"/expcalculator.json",type:"get",data:{type:"Mana",current:a,desired:b},error:function(a,b){console.debug(a),console.debug(b)},success:function(a){var b=jQuery.parseJSON(a);$("#manaxp").val(b.data),$("#manaxpoutput").val(xpFormat(b.data)),calculateSum()}})}),$("#mightcurrent, #mightdesired").change(function(){var a=removeNonNumenric($("#mightcurrent").val()),b=removeNonNumenric($("#mightdesired").val());$.ajax({url:"/expcalculator.json",type:"get",data:{type:"Stats",current:a,desired:b},error:function(a,b){console.debug(a),console.debug(b)},success:function(a){var b=jQuery.parseJSON(a);$("#mightxp").val(b.data),$("#mightxpoutput").val(xpFormat(b.data)),calculateSum()}})}),$("#gracecurrent, #gracedesired").change(function(){var a=removeNonNumenric($("#gracecurrent").val()),b=removeNonNumenric($("#gracedesired").val());$.ajax({url:"/expcalculator.json",type:"get",data:{type:"Stats",current:a,desired:b},error:function(a,b){console.debug(a),console.debug(b)},success:function(a){var b=jQuery.parseJSON(a);$("#gracexp").val(b.data),$("#gracexpoutput").val(xpFormat(b.data)),calculateSum()}})}),$("#willcurrent, #willdesired").change(function(){var a=removeNonNumenric($("#willcurrent").val()),b=removeNonNumenric($("#willdesired").val());$.ajax({url:"/expcalculator.json",type:"get",data:{type:"Stats",current:a,desired:b},error:function(a,b){console.debug(a),console.debug(b)},success:function(a){var b=jQuery.parseJSON(a);$("#willxp").val(b.data),$("#willxpoutput").val(xpFormat(b.data)),calculateSum()}})})});